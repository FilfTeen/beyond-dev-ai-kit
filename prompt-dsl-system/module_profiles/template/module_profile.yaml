# Module Profile Template — Declared (Layer1)
# Copy this file to module_profiles/<project_key>/<module_key>.yaml
# Fill in identity, scope, db, migration_objectives, and discovery_hints.
# Do NOT include specific class names, routes, table names, or field names here.
# Those belong in the discovered profile (Layer2), generated by module_profile_scanner.py.

profile_kind: "declared"
profile_version: "1.1"

identity:
  project_key: "TODO"                       # e.g. xywygl
  module_key: "TODO"                        # e.g. notice
  module_name: "TODO"                       # e.g. 公告模块
  profile_id: "TODO/TODO"                   # <project_key>/<module_key>
  backend_package_hint: "TODO"               # e.g. com.indihx.notice — for roots auto-discovery
  web_path_hint: "TODO"                      # e.g. backstage/notice — for roots auto-discovery
  keywords: []                               # optional additional search terms

scope:
  allowed_module_root: "TODO"               # REQUIRED — repo-relative path
  forbidden_paths:                          # inherits company constitution defaults
    - "/sys"
    - "/error"
    - "/util"
    - "/vote"

db:
  source_dialect: "oracle"                  # migration source
  dialects: ["oracle", "mysql", "dm8"]      # target dialect set

integration_points:
  declared:                                 # which layers this module touches
    - "controller"
    - "service"
    - "mapper"
    - "sql_script"
    # - "ui_pages"
    # - "workflow_activiti"
    # - "api_routes"
    # - "dto"
    # - "vo"
    # - "config"
    # - "repository"

migration_objectives:
  goals:                                    # at least one required
    - "sql_portability"
    # - "api_parity"
    # - "ui_parity"
    # - "workflow_parity"
  risk_budget: "low"                        # low/medium/high

discovery_hints:
  grep_patterns: ["TODO"]                   # keywords for scanner to search
  include_globs: ["**/*.java", "**/*.xml", "**/*.html", "**/*.sql"]
  exclude_globs: ["**/node_modules/**", "**/target/**"]
